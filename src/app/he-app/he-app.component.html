<div class="container">
  <h1>Vurnulabilty Assesment - Scan Tool</h1>

  <!-- Input for target IP or Hostname -->
  <div class="flex-auto">
    <label for="target" class="block mb-2">Target (IP or Hostname):</label>
    <input 
      pInputText 
      id="target" 
      [(ngModel)]="target" 
      name="target" 
      placeholder="Enter target IP or hostname" 
      [style]="{'width':'30vw','height':'45px'}" 
      required 
      minlength="3" 
    />
  </div>

  <!-- Dropdown for profile selection -->
  <div>
    <label for="profile">Select Scan Profile:</label>
    <p-dropdown
      [options]="profiles"
      [(ngModel)]="selectedProfile"
      placeholder="Choose a scan profile"
      optionLabel="label"
      class="custom-dropdown"
    ></p-dropdown>
  </div>

  <button pButton label="Run Scan" (click)="onScan()" [disabled]="loading" class="custom-button"></button>

  <!-- Error message -->
  <div *ngIf="error" class="error-message">{{ error }}</div>

  <!-- Loading spinner -->
  <div *ngIf="loading" class="loading">Scanning...</div>

  <!-- Display results -->
  <div *ngIf="scanResults.length > 0" class="results">
    <h2>Scan Results</h2>
    <p-table [value]="scanResults">
      <ng-template pTemplate="header">
        <tr>
          <th>Port</th>
          <th>Service</th>
          <th>Status</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-result>
        <tr>
          <td>{{ result.port }}</td>
          <td>{{ result.service }}</td>
          <td>{{ result.status }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
